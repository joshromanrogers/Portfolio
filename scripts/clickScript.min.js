var functionIsRunning=!1;const gaps=document.querySelectorAll(".gap"),scoreBoard=document.querySelector(".score"),squares=document.querySelectorAll(".square"),new1=document.getElementById("yes");let lastHole;const easy=document.getElementById("1"),medium=document.getElementById("2"),hard=document.getElementById("3");medium.checked=!0;let colors=["#ff0000","#00ff00"],container=document.getElementsByClassName("container")[0];const walk=50;function randomTime(min,max){return Math.round(Math.random()*(max-min)+min)}function randomSquare(squares){const idx=Math.floor(Math.random()*squares.length),square=squares[idx];return square===lastHole?randomSquare(squares):(lastHole=square,square)}function randomColor(square){let random_color=colors[Math.floor(Math.random()*colors.length)];square.style.backgroundColor=random_color}function removeRandomColor(square){square.style.backgroundColor="white"}function up(){let speed;const time=checkSpeed(),square=randomSquare(squares);randomColor(square),square.classList.add("squareUp"),setTimeout(()=>{square.classList.remove("squareUp"),removeRandomColor(square),timeUp||up()},time)}function startGame(){functionIsRunning||(functionIsRunning=!0,scoreBoard.textContent=0,timeUp=!1,score=0,up(),setTimeout(()=>{timeUp=!0,functionIsRunning=!1},25e3))}function hit(){this.classList.contains("squareUp")&&(score++,this.parentNode.classList.remove("squareUp"),scoreBoard.textContent=score,scoreColour())}function scoreColour(){scoreBoard.style.color="purple",setTimeout(()=>{scoreBoard.style.color="white"},250)}function checkSpeed(){return 1==easy.checked?randomTime(1500,2100):1==medium.checked?randomTime(1e3,1500):randomTime(700,1500)}function buildAtom(){for(var n=0;n<50;n++){var newAtom=document.createElement("div");newAtom.classList.add("atom"),newAtom.style.left=100*Math.random()+"%",newAtom.style.animationDelay=20*Math.random()+"s",newAtom.style.animationDuration=5+10*Math.random()+"s",container.appendChild(newAtom)}}function atomMove(e){const{offsetWidth:width,offsetHeight:height}=document.getElementsByClassName("container")[0];let{offsetX:x,offsetY:y}=e;this!==e.target&&(x+=e.target.offsetLeft,y+=e.target.offsetTop);const xWalk=Math.round(x/width*walk*.05+walk/2),yWalk=Math.round(y/height*walk*.05+walk/2);for(var atoms=document.querySelectorAll(".atom"),z=0;z<atoms.length;z++)atoms[z].style.marginLeft=`${-xWalk}px`}squares.forEach(square=>square.addEventListener("click",hit)),buildAtom(),container.addEventListener("mousemove",atomMove);